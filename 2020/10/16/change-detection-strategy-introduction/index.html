<!DOCTYPE html><html lang="Zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><script>(function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?4528ef8fec41aa4331cbdf867fe84204";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
})();
</script><title> Angularå˜æ›´æ£€æµ‹ç­–ç•¥ï¼šç®€ä»‹ Â· HY</title><meta name="description" content="Angularå˜æ›´æ£€æµ‹ç­–ç•¥ï¼šç®€ä»‹ - Coolseaman"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://coolseaman.github.io/atom.xml" title="HY"><meta name="generator" content="Hexo 4.2.0"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/coolseaman" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Angularå˜æ›´æ£€æµ‹ç­–ç•¥ï¼šç®€ä»‹</h1><div class="post-info">2020å¹´10æœˆ16æ—¥</div><div class="post-content"><blockquote>
<p>Angularæ‰§è¡Œæ¸²æŸ“å’Œæ›´æ–°è§†å›¾çš„æ–¹å¼æ˜¯ç†è§£æ¡†æ¶å†…éƒ¨ç³»ç»Ÿå’ŒåŸºæœ¬åŠŸèƒ½çš„å…³é”®å› ç´ ã€‚è®©æˆ‘ä»¬æš‚åœå‡ åˆ†é’Ÿï¼Œä»¥æ›´å¥½åœ°äº†è§£Angularçš„å˜æ›´æ£€æµ‹ç­–ç•¥çš„å·¥ä½œæ–¹å¼ã€‚</p>
</blockquote>
<a id="more"></a>
<h2 id="ä»€ä¹ˆæ˜¯â€œå˜æ›´æ£€æµ‹ç­–ç•¥ï¼ˆChange-Detectionï¼‰â€-ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯â€œå˜æ›´æ£€æµ‹ç­–ç•¥ï¼ˆChange-Detectionï¼‰â€-ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯â€œå˜æ›´æ£€æµ‹ç­–ç•¥ï¼ˆChange Detectionï¼‰â€ ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯â€œå˜æ›´æ£€æµ‹ç­–ç•¥ï¼ˆChange Detectionï¼‰â€ ï¼Ÿ</h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦äº†è§£ä»€ä¹ˆæ˜¯å˜æ›´æ£€æµ‹ç­–ç•¥ï¼Ÿ</p>
<p>å˜æ›´æ£€æµ‹çš„åŸºæœ¬æœºåˆ¶æ˜¯é’ˆå¯¹ä¸¤ç§çŠ¶æ€æ‰§è¡Œæ£€æŸ¥ï¼Œä¸€ç§æ˜¯å½“å‰çŠ¶æ€ï¼Œå¦ä¸€ç§æ˜¯æ–°çŠ¶æ€ã€‚å¦‚æœä¸€ä¸ªçŠ¶æ€ä¸å¦ä¸€ä¸ªçŠ¶æ€ä¸åŒï¼Œåˆ™è¯´æ˜å·²ç»å˜æ›´ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦æ›´æ–°ï¼ˆæˆ–é‡æ–°æ¸²æŸ“ï¼‰è§†å›¾ã€‚</p>
<blockquote>
<p>å˜æ›´æ£€æµ‹æ„å‘³ç€åœ¨æ•°æ®å˜æ›´åæ›´æ–°è§†å›¾ï¼ˆDOMï¼‰ã€‚</p>
</blockquote>
<h3 id="å˜æ›´æ£€æµ‹åˆ†ä¸¤æ­¥å®Œæˆ"><a href="#å˜æ›´æ£€æµ‹åˆ†ä¸¤æ­¥å®Œæˆ" class="headerlink" title="å˜æ›´æ£€æµ‹åˆ†ä¸¤æ­¥å®Œæˆ"></a>å˜æ›´æ£€æµ‹åˆ†ä¸¤æ­¥å®Œæˆ</h3><p>Angularçš„å˜æ›´æ£€æµ‹åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼Œç¬¬ä¸€ä¸ªæ­¥éª¤æ˜¯é€šè¿‡å¼€å‘äººå‘˜æ›´æ–°åº”ç”¨ç¨‹åºçš„æ¨¡å‹æ¥å®Œæˆã€‚ä»–å¯ä»¥é€šè¿‡æ›´æ”¹ç»„ä»¶çš„å±æ€§æˆ–è§¦å‘äº‹ä»¶æ¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ç„¶åï¼ŒAngularçš„å·¥ä½œå°†æ˜¯é€šè¿‡é‡æ–°æ¸²æŸ“æ¥åœ¨è§†å›¾ä¸­å‘ˆç°æ¨¡å‹çš„çŠ¶æ€ã€‚é€šå¸¸ï¼Œè¿™æ„å‘³ç€Angularå°†é€šè¿‡è§¦å‘äº‹ä»¶æˆ–ç€é€šè¿‡å±æ€§ç»‘å®šæ¥è¿›è¡Œæ›´æ–°ã€‚</p>
<ol>
<li>æ›´æ–°åº”ç”¨ç¨‹åºçš„æ¨¡å‹ï¼ˆå¼€å‘è€…ï¼‰</li>
<li>åœ¨è§†å›¾ä¸­å‘ˆç°æ¨¡å‹çŠ¶æ€ï¼ˆAngularï¼‰</li>
</ol>
<h3 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h3><p>ä¸ºäº†èƒ½å¤Ÿæ­£ç¡®æ¼”ç¤ºAngularçš„å˜æ›´æ£€æµ‹æµç¨‹ï¼Œæˆ‘ä»¬éœ€è¦ä¸¾ä¸€ä¸ªä¾‹å­ã€‚åœ¨Angularä¸­ï¼Œæ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½æ˜¯å°†ä¸€å †ç»„ä»¶ä¸ä¸€äº›è¾“å…¥å’Œè¾“å‡ºç»„åˆåœ¨ä¸€èµ·ï¼Œä»¥ä¾¿èƒ½å¤Ÿä¼ æ’­æ•°æ®å’Œæ¨¡å‹çŠ¶æ€ã€‚åº”ç”¨ç¨‹åºåŸºæœ¬ä¸Šç”±æˆ‘ä»¬æ‰€è°“çš„ç»„ä»¶æ ‘ç»„æˆã€‚<br><img src="http://ww1.sinaimg.cn/large/a1823812gy1gjrmdwl9njj21200k8760.jpg" alt="ç»„ä»¶æ ‘"><br>å¦‚æœæˆ‘ä»¬ä½¿ç”¨ä¸Šå›¾æ‰€ç¤ºçš„å¾…åŠäº‹é¡¹åº”ç”¨ç¨‹åºï¼Œé‚£æˆ‘ä»¬å°†æœ‰ä¸€ä¸ªç›¸å½“ç®€å•çš„åº”ç”¨ç¨‹åºï¼Œå®ƒå…·æœ‰ä¸€ä¸ªTodosComponentæ¥ç®¡ç†TodoComponentçš„åˆ—è¡¨ã€‚å¦‚æœæˆ‘ä»¬ä¿®æ”¹è¿™ä¸ªåˆ—è¡¨ï¼Œåˆ™é€šè¿‡æ›´æ”¹å¾…åŠäº‹é¡¹åˆ—è¡¨ç¬¬ä¸€é¡¹çš„å€¼ï¼ˆä»¥é»„è‰²æ˜¾ç¤ºï¼‰ï¼Œæˆ‘ä»¬å°†è·å¾—ä»¥ä¸‹æµç¨‹ï¼š</p>
<ol>
<li>å¼€å‘è€…æ­£åœ¨ä¿®æ”¹æ¨¡å‹ï¼ˆä¾‹å¦‚ç»„ä»¶çš„ç»‘å®šå±æ€§ï¼‰ï¼›</li>
<li>Angularçš„å˜æ›´æ£€æµ‹å¼€å§‹ä¼ æ’­å˜æ›´ï¼›</li>
<li>å˜æ›´æ£€æµ‹éå†ç»„ä»¶æ ‘ä¸­çš„æ¯ä¸ªç»„ä»¶ï¼ˆä»ä¸Šåˆ°ä¸‹ï¼‰ï¼Œä»¥æ£€æŸ¥å®ƒæ‰€ä¾èµ–çš„æ¨¡å‹æ˜¯å¦å·²å˜æ›´ï¼›</li>
<li>å¦‚æœå·²æ¨¡å‹å·²å˜æ›´ï¼Œå°†ä¼šæ›´æ–°ç»„ä»¶ï¼›</li>
<li>Angularæ›´æ–°ç»„ä»¶è§†å›¾ï¼ˆDOMï¼‰ã€‚</li>
</ol>
<blockquote>
<p>Angularé€šè¿‡ä»é¡¶éƒ¨å¼€å§‹ä¸€ç›´æŒç»­åˆ°åˆ°è¾¾åº•éƒ¨æ¥è¿›è¡Œå˜æ›´æ£€æµ‹çš„æ–¹å¼ï¼Œä½¿ç³»ç»Ÿæ›´å…·å¯é¢„æµ‹æ€§å’Œæ€§èƒ½ã€‚</p>
</blockquote>
<h2 id="Angularå˜æ›´æ£€æµ‹ç­–ç•¥"><a href="#Angularå˜æ›´æ£€æµ‹ç­–ç•¥" class="headerlink" title="Angularå˜æ›´æ£€æµ‹ç­–ç•¥"></a>Angularå˜æ›´æ£€æµ‹ç­–ç•¥</h2><p>Angularæä¾›äº†ä¸¤ç§å˜æ›´æ£€æµ‹ç­–ç•¥ï¼Œé»˜è®¤ç­–ç•¥å’ŒOnPushç­–ç•¥ã€‚</p>
<h3 id="ChangeDetectionStrategy-Default"><a href="#ChangeDetectionStrategy-Default" class="headerlink" title="ChangeDetectionStrategy.Default"></a>ChangeDetectionStrategy.Default</h3><p>ä¸ºäº†çŸ¥é“æ˜¯å¦åº”æ›´æ–°è§†å›¾ï¼ŒAngularéœ€è¦è®¿é—®æ–°å€¼ï¼Œå°†å…¶ä¸æ—§å€¼è¿›è¡Œæ¯”è¾ƒï¼Œç„¶åå†³å®šæ˜¯å¦åº”æ›´æ–°è§†å›¾ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒAngularä¸ä¼šå‡è®¾ç»„ä»¶ä¾èµ–ä»€ä¹ˆã€‚å› æ­¤ï¼Œå®ƒå¿…é¡»æ˜¯ä¿å®ˆçš„ï¼Œå¹¶ä¸”åœ¨æ¯æ¬¡å¯èƒ½å‘ç”Ÿæ›´æ”¹æ—¶éƒ½ä¼šè¿›è¡Œæ£€æŸ¥ï¼Œè¿™ç§°ä¸ºè„æ£€æŸ¥ï¼ˆdirty checkingï¼‰ã€‚æ›´å…·ä½“ç‚¹è¯´ï¼Œå®ƒå°†å¯¹æ¯ä¸ªæµè§ˆå™¨äº‹ä»¶ï¼Œè®¡æ—¶å™¨ï¼ŒXHRå’ŒPromiseæ‰§è¡Œæ£€æŸ¥ã€‚</p>
<p>è¿™å¯èƒ½ä¼šæˆä¸ºé—®é¢˜ï¼Œå½“ä½ å¼€å§‹å¼€å‘ä¸€ä¸ªåŒ…å«è®¸å¤šç»„ä»¶çš„å¤§å‹åº”ç”¨ç¨‹åºæ—¶ï¼Œç‰¹åˆ«æ˜¯å¦‚æœä½ å¾ˆå…³æ³¨æ€§èƒ½ã€‚</p>
<blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒAngularå¿…é¡»ä¿æŒä¿å®ˆï¼Œå¹¶ä¸”æ¯å½“å¯èƒ½å‘ç”Ÿæ›´æ”¹æ—¶éƒ½ä¼šè¿›è¡Œæ£€æŸ¥ï¼Œè¿™ç§°ä¸ºè„æ£€æŸ¥ã€‚</p>
</blockquote>
<h3 id="ChangeDetectionStrategy-onPush"><a href="#ChangeDetectionStrategy-onPush" class="headerlink" title="ChangeDetectionStrategy.onPush"></a>ChangeDetectionStrategy.onPush</h3><p>åœ¨ç»„ä»¶ä¸Šä½¿ç”¨onPushç­–ç•¥æ—¶ï¼Œä½ ä¼šå¯¹Angularè¯´ï¼Œå½“éœ€è¦æ‰§è¡Œå˜æ›´æ£€æµ‹æ—¶ï¼Œå®ƒä¸åº”è¿›è¡Œä»»ä½•çŒœæµ‹ã€‚å®ƒä»…ä¾èµ–äºInputå¼•ç”¨çš„æ›´æ”¹ï¼Œä¸€äº›ç”±ç»„ä»¶è‡ªèº«æˆ–å­ç»„ä»¶è§¦å‘çš„äº‹ä»¶ã€‚æœ€åï¼Œä½ å¯ä»¥æ˜ç¡®åœ°è¦æ±‚Angularä½¿ç”¨<code>componentRef.markForCheck()</code>æ–¹æ³•æ‰§è¡Œæ­¤æ“ä½œã€‚</p>
<p>ä½¿ç”¨onPushï¼Œè¯¥ç»„ä»¶åªä¾èµ–äº<code>Input</code>ï¼Œå¹¶ä¸”æ‹¥æœ‰ä¸å˜æ€§ï¼ˆembraces the immutabilityï¼Œåº”è¯¥å°±æ˜¯è¯´åªä¾èµ–äºInputå¼•ç”¨çš„æ›´æ–°ï¼‰ï¼Œå˜æ›´æ£€æµ‹ç­–ç•¥å°†åœ¨ä»¥ä¸‹æƒ…å†µä¸‹æ‰§è¡Œï¼š</p>
<ol>
<li>Input å¼•ç”¨æ›´æ–°ï¼›</li>
<li>ç”±ç»„ä»¶æˆ–å…¶å­ç»„ä»¶è§¦å‘çš„äº‹ä»¶ï¼›</li>
<li>æ˜ç¡®æ‰§è¡Œå˜æ›´æ£€æµ‹<code>componentRef.markForCheck()</code>;</li>
<li>åœ¨è§†å›¾ä¸­ä½¿ç”¨<code>async</code>ç®¡é“ã€‚</li>
</ol>
<blockquote>
<p>ä½¿ç”¨onPushï¼ŒAngularå°†ä»…ä¾èµ–äºç»„ä»¶çš„è¾“å…¥ï¼Œäº‹ä»¶ï¼ŒmarkForCheckæ–¹æ³•æˆ–æ¨¡æ¿ä¸­å¼‚æ­¥ç®¡é“çš„ä½¿ç”¨æ¥æ‰§è¡Œå˜æ›´æ£€æµ‹æœºåˆ¶å¹¶æ›´æ–°è§†å›¾ã€‚</p>
</blockquote>
<p>è¿™æ ·å¯ä»¥å¤§å¤§æé«˜æ€§èƒ½ï¼ŒAngularä¸ä¼šåšä»»ä½•çŒœæµ‹æˆ–æ¯«æ— ç”¨å¤„çš„å·¥ä½œã€‚å®ƒé€šè¿‡å…¶ç»„ä»¶ä½¿æ‚¨çš„åº”ç”¨ç¨‹åºå…·æœ‰ä¸å˜æ€§ã€‚</p>
<hr>
<p><strong>åŸæ–‡å‡ºå¤„</strong><br><a href="https://medium.com/@bencabanes/angular-change-detection-strategy-an-introduction-819aaa7204e7" target="_blank" rel="noopener">Angular Change Detection Strategy: An introduction
</a></p>
<p><strong>æ›´æ·±å…¥å­¦ä¹ </strong></p>
<ol>
<li><a href="https://blog.angularindepth.com/everything-you-need-to-know-about-change-detection-in-angular-8006c51d206f" target="_blank" rel="noopener">Everything you need to know about change detection in Angular</a></li>
<li><a href="https://vsavkin.com/change-detection-in-angular-2-4f216b855d4c" target="_blank" rel="noopener">Change Detection in Angular</a></li>
<li><a href="https://blog.nrwl.io/essential-angular-change-detection-fe0e868dcc00" target="_blank" rel="noopener">Essential Angular: Change Detection</a></li>
<li><a href="https://netbasal.com/a-comprehensive-guide-to-angular-onpush-change-detection-strategy-5bac493074a4" target="_blank" rel="noopener">ğŸš€ A Comprehensive Guide to Angular onPush Change Detection Strategy</a></li>
</ol>

<div id="gitalk-container"></div>
<script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

		<script>
		var gitalkConfig = {"clientID":"66b3bec2ed166012b227","clientSecret":"aa06be78857099bba47974a90299ffa0607acea3","repo":"coolseaman/coolseaman.github.io","owner":"coolseaman","admin":["coolseaman"],"distractionFreeMode":false};
	    gitalkConfig.id = md5(location.pathname);
		var gitalk = new Gitalk(gitalkConfig);
	    gitalk.render("gitalk-container");
	    </script></div></article></div></main><footer><div class="paginator"><a href="/2020/12/03/tail-recursion/" class="prev">ä¸Šä¸€ç¯‡</a><a href="/2020/10/10/rxjs-operator/" class="next">ä¸‹ä¸€ç¯‡</a></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"><div id="gitalk-container"></div><script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script><script>gitalk = new Gitalk({
    //- clientID: '66b3bec2ed166012b227',
    //- clientSecret: 'aa06be78857099bba47974a90299ffa0607acea3',
    //- repo: 'coolseaman/coolseaman.github.io',
    //- owner: '',
    //- admin: 'coolseaman',
    //- id: window.location.pathname,      // Ensure uniqueness and length less than 50
    //- distractionFreeMode: false  // Facebook-like distraction free mode

    clientID: '66b3bec2ed166012b227',
    clientSecret: 'aa06be78857099bba47974a90299ffa0607acea3',
    repo: 'coolseaman.github.io',
    owner: 'coolseaman',
    admin: ['coolseaman'],
    id: window.location.pathname,
    distractionFreeMode: false,
    title: ''
});
gitalk.render('gitalk-container');</script><div class="copyright"><p>Â© 2015 - 2020 <a href="https://coolseaman.github.io">Coolseaman</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>